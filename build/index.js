"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// import nodeFetch from 'node-fetch';
const axios_1 = require("axios");
const slackUrl = 'https://hooks.slack.com/services/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';
const data = { text: 'Hello from GitHub' };
const sendToSlack = async (url, messageBody) => {
    try {
        const response = await axios_1.default.post(url, JSON.stringify(messageBody), {
            headers: { 'Content-Type': 'application/json' },
        });
        return { statusCode: response.status, statusMessage: response.statusText };
    }
    catch (error) {
        const slackError = error;
        return {
            statusCode: slackError.response.status,
            statusMessage: slackError.response.statusText,
        };
    }
};
(async () => {
    const slackResponse = await sendToSlack(slackUrl, data);
    console.log(slackResponse);
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBc0M7QUFDdEMsaUNBQTBCO0FBYTFCLE1BQU0sUUFBUSxHQUNaLGlGQUFpRixDQUFDO0FBRXBGLE1BQU0sSUFBSSxHQUFxQixFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0FBRTdELE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBRSxHQUFXLEVBQUUsV0FBNkIsRUFBRSxFQUFFO0lBQ3ZFLElBQUk7UUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLGVBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDbEUsT0FBTyxFQUFFLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFO1NBQ2hELENBQUMsQ0FBQztRQUNILE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO0tBQzVFO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxNQUFNLFVBQVUsR0FBRyxLQUEyQixDQUFDO1FBQy9DLE9BQU87WUFDTCxVQUFVLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNO1lBQ3RDLGFBQWEsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDLFVBQVU7U0FDOUMsQ0FBQztLQUNIO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsQ0FBQyxLQUFLLElBQUksRUFBRTtJQUNWLE1BQU0sYUFBYSxHQUFHLE1BQU0sV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4RCxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzdCLENBQUMsQ0FBQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgbm9kZUZldGNoIGZyb20gJ25vZGUtZmV0Y2gnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxudHlwZSBTbGFja01lc3NhZ2VCb2R5ID0ge1xuICB0ZXh0OiBzdHJpbmc7XG59O1xuXG50eXBlIFNsYWNrRXJyb3JSZXNwb25zZSA9IHtcbiAgcmVzcG9uc2U6IHtcbiAgICBzdGF0dXM6IG51bWJlcjtcbiAgICBzdGF0dXNUZXh0OiBzdHJpbmc7XG4gIH07XG59O1xuXG5jb25zdCBzbGFja1VybCA9XG4gICdodHRwczovL2hvb2tzLnNsYWNrLmNvbS9zZXJ2aWNlcy9URTVRNUhYVVovQjA0VEVIMFY1VjMvR2F4UGQyRHRRVXJtUTh0ZHVLNDhGcFFPJztcblxuY29uc3QgZGF0YTogU2xhY2tNZXNzYWdlQm9keSA9IHsgdGV4dDogJ0hlbGxvIGZyb20gR2l0SHViJyB9O1xuXG5jb25zdCBzZW5kVG9TbGFjayA9IGFzeW5jICh1cmw6IHN0cmluZywgbWVzc2FnZUJvZHk6IFNsYWNrTWVzc2FnZUJvZHkpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QodXJsLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlQm9keSksIHtcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pO1xuICAgIHJldHVybiB7IHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgc3RhdHVzTWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IHNsYWNrRXJyb3IgPSBlcnJvciBhcyBTbGFja0Vycm9yUmVzcG9uc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1c0NvZGU6IHNsYWNrRXJyb3IucmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzTWVzc2FnZTogc2xhY2tFcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgIH07XG4gIH1cbn07XG5cbihhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHNsYWNrUmVzcG9uc2UgPSBhd2FpdCBzZW5kVG9TbGFjayhzbGFja1VybCwgZGF0YSk7XG4gIGNvbnNvbGUubG9nKHNsYWNrUmVzcG9uc2UpO1xufSkoKTtcbiJdfQ==